<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenImageIO: OpenImageIO::ImageOutput Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespace_open_image_i_o.html">OpenImageIO</a>::<a class="el" href="class_open_image_i_o_1_1_image_output.html">ImageOutput</a>
  </div>
</div>
<div class="contents">
<h1>OpenImageIO::ImageOutput Class Reference</h1><!-- doxytag: class="OpenImageIO::ImageOutput" -->
<p><code>#include &lt;<a class="el" href="imageio_8h_source.html">imageio.h</a>&gt;</code></p>

<p><a href="class_open_image_i_o_1_1_image_output-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#a432cf2d87ede534eb6f5557d33660e1a">format_name</a> (void) const =0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#a2d8ec64891bc59ea02510294b6a61720">supports</a> (const std::string &amp;feature) const =0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#a5f3094702793edd3aed9ba6497aeb29e">open</a> (const std::string &amp;name, const <a class="el" href="class_open_image_i_o_1_1_image_spec.html">ImageSpec</a> &amp;newspec, bool append=false)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_open_image_i_o_1_1_image_spec.html">ImageSpec</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#a7fdae0652f994e8c281f40f6fb040b7c">spec</a> (void) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#a39bf79ca99d8a6dd75cabacb69d6e3eb">close</a> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#aaa5c0f5215495705dca6b0e4f66d2e78">write_scanline</a> (int y, int z, <a class="el" href="struct_type_desc.html">TypeDesc</a> format, const void *data, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> xstride=<a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#ab94136169455e1802033c2c35f8ce7d0">write_tile</a> (int x, int y, int z, <a class="el" href="struct_type_desc.html">TypeDesc</a> format, const void *data, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> xstride=<a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a>, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> ystride=<a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a>, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> zstride=<a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#ae07e677c4f6945f05bac267449297377">write_rectangle</a> (int xmin, int xmax, int ymin, int ymax, int zmin, int zmax, <a class="el" href="struct_type_desc.html">TypeDesc</a> format, const void *data, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> xstride=<a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a>, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> ystride=<a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a>, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> zstride=<a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#aaa92b5ccdee4bb45cc67927f33734a41">write_image</a> (<a class="el" href="struct_type_desc.html">TypeDesc</a> format, const void *data, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> xstride=<a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a>, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> ystride=<a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a>, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> zstride=<a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a>, <a class="el" href="namespace_open_image_i_o.html#ab38077fafc899c181c9617c0f7e20d3c">ProgressCallback</a> progress_callback=NULL, void *progress_callback_data=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#ab8f7bef1e035e4f46fc249e4035f809f">copy_image</a> (<a class="el" href="class_open_image_i_o_1_1_image_input.html">ImageInput</a> *in)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#a608a1a08a4cf45352ba72621ae390fdf">send_to_output</a> (const char *format,...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8208389c891fd00b751fa471e5ffe216"></a><!-- doxytag: member="OpenImageIO::ImageOutput::send_to_client" ref="a8208389c891fd00b751fa471e5ffe216" args="(const char *format,...)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>send_to_client</b> (const char *format,...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#a788770a5bd42c7436580065083c79680">geterror</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#a4f262c2bbcb9452114bbd0cd54f6b0f3">error_message</a> () const </td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_open_image_i_o_1_1_image_output.html">ImageOutput</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#a796be9c5659f191431ef2d26bd36ba2a">create</a> (const std::string &amp;filename, const std::string &amp;plugin_searchpath=&quot;&quot;)</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#a8f8b48c185e76c3e959325530e42a67f">error</a> (const char *format,...) OPENIMAGEIO_PRINTF_ARGS(2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void const void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#a9cd8b9c2e57f7002808132d07bdce675">to_native_scanline</a> (<a class="el" href="struct_type_desc.html">TypeDesc</a> format, const void *data, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> xstride, std::vector&lt; unsigned char &gt; &amp;scratch)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada39b17545bde31123ba99b977acfca3"></a><!-- doxytag: member="OpenImageIO::ImageOutput::to_native_tile" ref="ada39b17545bde31123ba99b977acfca3" args="(TypeDesc format, const void *data, stride_t xstride, stride_t ystride, stride_t zstride, std::vector&lt; unsigned char &gt; &amp;scratch)" -->
const void *&nbsp;</td><td class="memItemRight" valign="bottom"><b>to_native_tile</b> (<a class="el" href="struct_type_desc.html">TypeDesc</a> format, const void *data, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> xstride, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> ystride, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> zstride, std::vector&lt; unsigned char &gt; &amp;scratch)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a87de8033f0fbc9a8c6c5f74ad18765a4"></a><!-- doxytag: member="OpenImageIO::ImageOutput::to_native_rectangle" ref="a87de8033f0fbc9a8c6c5f74ad18765a4" args="(int xmin, int xmax, int ymin, int ymax, int zmin, int zmax, TypeDesc format, const void *data, stride_t xstride, stride_t ystride, stride_t zstride, std::vector&lt; unsigned char &gt; &amp;scratch)" -->
const void *&nbsp;</td><td class="memItemRight" valign="bottom"><b>to_native_rectangle</b> (int xmin, int xmax, int ymin, int ymax, int zmin, int zmax, <a class="el" href="struct_type_desc.html">TypeDesc</a> format, const void *data, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> xstride, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> ystride, <a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a> zstride, std::vector&lt; unsigned char &gt; &amp;scratch)</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_open_image_i_o_1_1_image_spec.html">ImageSpec</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_image_i_o_1_1_image_output.html#a2661efb71cce70d71a84e894165893cd">m_spec</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">format spec of the currently open image  <a href="#a2661efb71cce70d71a84e894165893cd"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="class_open_image_i_o_1_1_image_output.html">ImageOutput</a> abstracts the writing of an image file in a file format-agnostic manner. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a39bf79ca99d8a6dd75cabacb69d6e3eb"></a><!-- doxytag: member="OpenImageIO::ImageOutput::close" ref="a39bf79ca99d8a6dd75cabacb69d6e3eb" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool OpenImageIO::ImageOutput::close </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Close an image that we are totally done with. This should leave the plugin in a state where it could open a new file safely, without having to destroy the writer. </p>

</div>
</div>
<a class="anchor" id="ab8f7bef1e035e4f46fc249e4035f809f"></a><!-- doxytag: member="OpenImageIO::ImageOutput::copy_image" ref="ab8f7bef1e035e4f46fc249e4035f809f" args="(ImageInput *in)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool OpenImageIO::ImageOutput::copy_image </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_open_image_i_o_1_1_image_input.html">ImageInput</a> *&nbsp;</td>
          <td class="paramname"> <em>in</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read the current subimage of 'in', and write it as the next subimage of *this, in a way that is efficient and does not alter pixel values, if at all possible. Both in and this must be a properly-opened <a class="el" href="class_open_image_i_o_1_1_image_input.html">ImageInput</a> and <a class="el" href="class_open_image_i_o_1_1_image_output.html">ImageOutput</a>, respectively, and their current images must match in size and number of channels. Return true if it works ok, false if for some reason the operation wasn't possible.</p>
<p>If a particular <a class="el" href="class_open_image_i_o_1_1_image_output.html">ImageOutput</a> implementation does not supply a copy_image method, it will inherit the default implementation, which is to simply read scanlines or tiles from 'in' and write them to *this. However, some ImageIO implementations may have a special technique for directly copying raw pixel data from the input to the output, when both input and output are the SAME file type and the same data format. This can be more efficient than in-&gt;read_image followed by out-&gt;write_image, and avoids any unintended pixel alterations, especially for formats that use lossy compression. </p>

</div>
</div>
<a class="anchor" id="a796be9c5659f191431ef2d26bd36ba2a"></a><!-- doxytag: member="OpenImageIO::ImageOutput::create" ref="a796be9c5659f191431ef2d26bd36ba2a" args="(const std::string &amp;filename, const std::string &amp;plugin_searchpath=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_open_image_i_o_1_1_image_output.html">ImageOutput</a>* OpenImageIO::ImageOutput::create </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>plugin_searchpath</em> = <code>&quot;&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create an <a class="el" href="class_open_image_i_o_1_1_image_output.html">ImageOutput</a> that will write to a file, with the format inferred from the extension of the name. The plugin_searchpath parameter is a colon-separated list of directories to search for ImageIO plugin DSO/DLL's. This just creates the <a class="el" href="class_open_image_i_o_1_1_image_output.html">ImageOutput</a>, it does not open the file. </p>

</div>
</div>
<a class="anchor" id="a8f8b48c185e76c3e959325530e42a67f"></a><!-- doxytag: member="OpenImageIO::ImageOutput::error" ref="a8f8b48c185e76c3e959325530e42a67f" args="(const char *format,...) OPENIMAGEIO_PRINTF_ARGS(2" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpenImageIO::ImageOutput::error </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Error reporting for the plugin implementation: call this with printf-like arguments. </p>

</div>
</div>
<a class="anchor" id="a4f262c2bbcb9452114bbd0cd54f6b0f3"></a><!-- doxytag: member="OpenImageIO::ImageOutput::error_message" ref="a4f262c2bbcb9452114bbd0cd54f6b0f3" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string OpenImageIO::ImageOutput::error_message </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Deprecated </p>

</div>
</div>
<a class="anchor" id="a432cf2d87ede534eb6f5557d33660e1a"></a><!-- doxytag: member="OpenImageIO::ImageOutput::format_name" ref="a432cf2d87ede534eb6f5557d33660e1a" args="(void) const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual const char* OpenImageIO::ImageOutput::format_name </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the name of the format implemented by this class. </p>

</div>
</div>
<a class="anchor" id="a788770a5bd42c7436580065083c79680"></a><!-- doxytag: member="OpenImageIO::ImageOutput::geterror" ref="a788770a5bd42c7436580065083c79680" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string OpenImageIO::ImageOutput::geterror </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>If any of the API routines returned false indicating an error, this routine will return the error string (and clear any error flags). If no error has occurred since the last time <a class="el" href="class_open_image_i_o_1_1_image_output.html#a788770a5bd42c7436580065083c79680">geterror()</a> was called, it will return an empty string. </p>

</div>
</div>
<a class="anchor" id="a5f3094702793edd3aed9ba6497aeb29e"></a><!-- doxytag: member="OpenImageIO::ImageOutput::open" ref="a5f3094702793edd3aed9ba6497aeb29e" args="(const std::string &amp;name, const ImageSpec &amp;newspec, bool append=false)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool OpenImageIO::ImageOutput::open </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_open_image_i_o_1_1_image_spec.html">ImageSpec</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>newspec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>append</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Open file with given name, with resolution and other format data as given in newspec. Open returns true for success, false for failure. Note that it is legal to call open multiple times on the same file without a call to <a class="el" href="class_open_image_i_o_1_1_image_output.html#a39bf79ca99d8a6dd75cabacb69d6e3eb">close()</a>, if it supports multiimage and the append flag is true -- this is interpreted as appending images (such as for MIP-maps). </p>

</div>
</div>
<a class="anchor" id="a608a1a08a4cf45352ba72621ae390fdf"></a><!-- doxytag: member="OpenImageIO::ImageOutput::send_to_output" ref="a608a1a08a4cf45352ba72621ae390fdf" args="(const char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int OpenImageIO::ImageOutput::send_to_output </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>General message passing between client and image output server </p>

</div>
</div>
<a class="anchor" id="a7fdae0652f994e8c281f40f6fb040b7c"></a><!-- doxytag: member="OpenImageIO::ImageOutput::spec" ref="a7fdae0652f994e8c281f40f6fb040b7c" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_open_image_i_o_1_1_image_spec.html">ImageSpec</a>&amp; OpenImageIO::ImageOutput::spec </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a reference to the image format specification of the current subimage. Note that the contents of the spec are invalid before <a class="el" href="class_open_image_i_o_1_1_image_output.html#a5f3094702793edd3aed9ba6497aeb29e">open()</a> or after <a class="el" href="class_open_image_i_o_1_1_image_output.html#a39bf79ca99d8a6dd75cabacb69d6e3eb">close()</a>. </p>

</div>
</div>
<a class="anchor" id="a2d8ec64891bc59ea02510294b6a61720"></a><!-- doxytag: member="OpenImageIO::ImageOutput::supports" ref="a2d8ec64891bc59ea02510294b6a61720" args="(const std::string &amp;feature) const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool OpenImageIO::ImageOutput::supports </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>feature</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Given the name of a 'feature', return whether this ImageIO supports output of images with the given properties. Feature names that ImageIO plugins are expected to recognize include: "tiles" Is this format able to write tiled images? "rectangles" Does this plugin accept arbitrary rectangular pixel regions, not necessarily aligned to scanlines or tiles? "random_access" May tiles or scanlines be written in any order (false indicates that they MUST be in successive order). "multiimage" Does this format support multiple images within a file? "volumes" Does this format support "3D" pixel arrays? "rewrite" May the same scanline or tile be sent more than once? (Generally, this will be true for plugins that implement interactive display.) "empty" Does this plugin support passing a NULL data pointer to write_scanline or write_tile to indicate that the entire data block is zero?</p>
<p>Note that the earlier incarnation of ImageIO that shipped with NVIDIA's Gelato 2.x had individual supports_foo functions. When forking <a class="el" href="namespace_open_image_i_o.html" title="Main namespace enclosing most OpenImageIO functionality.">OpenImageIO</a>, we replaced this with a single entry point that accepts tokens. The main advantage is that this allows future expansion of the set of possible queries without changing the API, adding new entry points, or breaking linkage compatibility. </p>

</div>
</div>
<a class="anchor" id="a9cd8b9c2e57f7002808132d07bdce675"></a><!-- doxytag: member="OpenImageIO::ImageOutput::to_native_scanline" ref="a9cd8b9c2e57f7002808132d07bdce675" args="(TypeDesc format, const void *data, stride_t xstride, std::vector&lt; unsigned char &gt; &amp;scratch)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void const void* OpenImageIO::ImageOutput::to_native_scanline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_type_desc.html">TypeDesc</a>&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a>&nbsp;</td>
          <td class="paramname"> <em>xstride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; unsigned char &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>scratch</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Helper routines used by write_* implementations: convert data (in the given format and stride) to the "native" format of the file (described by the 'spec' member variable), in contiguous order. This requires a scratch space to be passed in so that there are no memory leaks. Returns a pointer to the native data, which may be the original data if it was already in native format and contiguous, or it may point to the scratch space if it needed to make a copy or do conversions. </p>

</div>
</div>
<a class="anchor" id="aaa92b5ccdee4bb45cc67927f33734a41"></a><!-- doxytag: member="OpenImageIO::ImageOutput::write_image" ref="aaa92b5ccdee4bb45cc67927f33734a41" args="(TypeDesc format, const void *data, stride_t xstride=AutoStride, stride_t ystride=AutoStride, stride_t zstride=AutoStride, ProgressCallback progress_callback=NULL, void *progress_callback_data=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool OpenImageIO::ImageOutput::write_image </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_type_desc.html">TypeDesc</a>&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a>&nbsp;</td>
          <td class="paramname"> <em>xstride</em> = <code><a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a>&nbsp;</td>
          <td class="paramname"> <em>ystride</em> = <code><a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a>&nbsp;</td>
          <td class="paramname"> <em>zstride</em> = <code><a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_open_image_i_o.html#ab38077fafc899c181c9617c0f7e20d3c">ProgressCallback</a>&nbsp;</td>
          <td class="paramname"> <em>progress_callback</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>progress_callback_data</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Write the entire image of spec.width x spec.height x spec.depth pixels, with the given strides and in the desired format. Strides set to AutoStride imply 'contiguous' data, i.e., xstride == spec.nchannels*format.size() ystride == xstride*spec.width zstride == ystride*spec.height Depending on spec, write either all tiles or all scanlines. Assume that data points to a layout in row-major order. Because this may be an expensive operation, a progress callback may be passed. Periodically, it will be called as follows: progress_callback (progress_callback_data, float done) where 'done' gives the portion of the image </p>

</div>
</div>
<a class="anchor" id="ae07e677c4f6945f05bac267449297377"></a><!-- doxytag: member="OpenImageIO::ImageOutput::write_rectangle" ref="ae07e677c4f6945f05bac267449297377" args="(int xmin, int xmax, int ymin, int ymax, int zmin, int zmax, TypeDesc format, const void *data, stride_t xstride=AutoStride, stride_t ystride=AutoStride, stride_t zstride=AutoStride)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool OpenImageIO::ImageOutput::write_rectangle </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>xmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>xmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ymin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ymax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>zmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>zmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_type_desc.html">TypeDesc</a>&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a>&nbsp;</td>
          <td class="paramname"> <em>xstride</em> = <code><a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a>&nbsp;</td>
          <td class="paramname"> <em>ystride</em> = <code><a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a>&nbsp;</td>
          <td class="paramname"> <em>zstride</em> = <code><a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Write pixels whose x coords range over xmin..xmax (inclusive), y coords over ymin..ymax, and z coords over zmin...zmax. The three stride values give the distance (in bytes) between successive pixels, scanlines, and volumetric slices, respectively. Strides set to AutoStride imply 'contiguous' data, i.e., xstride == spec.nchannels*format.size() ystride == xstride * (xmax-xmin+1) zstride == ystride * (ymax-ymin+1) The data are automatically converted from 'format' to the actual output format (as specified to <a class="el" href="class_open_image_i_o_1_1_image_output.html#a5f3094702793edd3aed9ba6497aeb29e">open()</a>) by this method. Return true for success, false for failure. It is a failure to call write_rectangle for a format plugin that does not return true for supports("rectangles"). </p>

</div>
</div>
<a class="anchor" id="aaa5c0f5215495705dca6b0e4f66d2e78"></a><!-- doxytag: member="OpenImageIO::ImageOutput::write_scanline" ref="aaa5c0f5215495705dca6b0e4f66d2e78" args="(int y, int z, TypeDesc format, const void *data, stride_t xstride=AutoStride)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool OpenImageIO::ImageOutput::write_scanline </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_type_desc.html">TypeDesc</a>&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a>&nbsp;</td>
          <td class="paramname"> <em>xstride</em> = <code><a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Write a full scanline that includes pixels (*,y,z). (z is ignored for 2D non-volume images.) The stride value gives the distance between successive pixels (in bytes). Strides set to AutoStride imply 'contiguous' data, i.e., xstride == spec.nchannels*format.size() The data are automatically converted from 'format' to the actual output format (as specified to <a class="el" href="class_open_image_i_o_1_1_image_output.html#a5f3094702793edd3aed9ba6497aeb29e">open()</a>) by this method. Return true for success, false for failure. It is a failure to call write_scanline with an out-of-order scanline if this format driver does not support random access. </p>

</div>
</div>
<a class="anchor" id="ab94136169455e1802033c2c35f8ce7d0"></a><!-- doxytag: member="OpenImageIO::ImageOutput::write_tile" ref="ab94136169455e1802033c2c35f8ce7d0" args="(int x, int y, int z, TypeDesc format, const void *data, stride_t xstride=AutoStride, stride_t ystride=AutoStride, stride_t zstride=AutoStride)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool OpenImageIO::ImageOutput::write_tile </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_type_desc.html">TypeDesc</a>&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a>&nbsp;</td>
          <td class="paramname"> <em>xstride</em> = <code><a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a>&nbsp;</td>
          <td class="paramname"> <em>ystride</em> = <code><a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_open_image_i_o.html#afe535d8c0c713144911a492cd158a709">stride_t</a>&nbsp;</td>
          <td class="paramname"> <em>zstride</em> = <code><a class="el" href="namespace_open_image_i_o.html#a9bd2a3990c96d2f16c8158c7aecfb26d">AutoStride</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Write the tile with (x,y,z) as the upper left corner. (z is ignored for 2D non-volume images.) The three stride values give the distance (in bytes) between successive pixels, scanlines, and volumetric slices, respectively. Strides set to AutoStride imply 'contiguous' data, i.e., xstride == spec.nchannels*format.size() ystride == xstride*spec.tile_width zstride == ystride*spec.tile_height The data are automatically converted from 'format' to the actual output format (as specified to <a class="el" href="class_open_image_i_o_1_1_image_output.html#a5f3094702793edd3aed9ba6497aeb29e">open()</a>) by this method. Return true for success, false for failure. It is a failure to call write_tile with an out-of-order tile if this format driver does not support random access. </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a2661efb71cce70d71a84e894165893cd"></a><!-- doxytag: member="OpenImageIO::ImageOutput::m_spec" ref="a2661efb71cce70d71a84e894165893cd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_open_image_i_o_1_1_image_spec.html">ImageSpec</a> <a class="el" href="class_open_image_i_o_1_1_image_output.html#a2661efb71cce70d71a84e894165893cd">OpenImageIO::ImageOutput::m_spec</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>format spec of the currently open image </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/include/<a class="el" href="imageio_8h_source.html">imageio.h</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Oct 27 06:30:41 2009 for OpenImageIO by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
